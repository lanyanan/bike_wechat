webpackJsonp([17],{772:function(t,e,a){a(940);var n=a(0)(a(820),a(908),null,null);t.exports=n.exports},820:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(12),o=a.n(n);e.default={data:function(){return{phone:"",captcha:"",buttonText:"获取验证码",counter:0,captchaDisabled:!1}},methods:{requestCaptcha:function(){var t=this;this.captchaDisabled=!0,this.$http({method:"post",url:BASE_URL+"/lock-account/request_captcha",headers:{"Content-Type":"application/json"},data:{phone:this.phone,appkey:APP_KEY}}).then(function(e){t.counter=60,t.buttonText=t.counter.toString()+" 秒",t.captchaDisabled=!0;var a=setInterval(function(){this.counter--,this.counter<=0?(this.captchaDisabled=!1,clearInterval(a),this.buttonText="获取验证码"):this.buttonText=this.counter.toString()+" 秒"}.bind(t),1e3);e.data.status;t.$vux.toast.show({text:"发送成功"})}).catch(function(e){t.captchaDisabled=!1})},checkCaptcha:function(){this.$http({method:"post",url:BASE_URL+"/lock-account/check_captcha",headers:{"Content-Type":"application/json"},data:{phone:this.phone,appkey:APP_KEY,captcha:this.captcha}}).then(function(t){var e=t.data,a=(e.status,e.token),n=e.verify_status,i=e.balance,c=e.deposit,s=e.credit;this.$vux.toast.show({text:"登录成功"}),window.USER.balance=i,window.USER.credit=s,window.USER.deposit=c,window.USER.phone=this.phone,window.USER.token=a,window.USER.isRealNameAuth=!1,window.USER.isPaidDeposit=!1,0!=(1&n)&&(console.log("authorized"),window.USER.isRealNameAuth=!0),0!=(2&n)&&(console.log("deposited"),window.USER.isPaidDeposit=!0),localStorage.setItem(USER_CACHE_KEY,o()(window.USER)),window.USER.isPaidDeposit||window.USER.isRealNameAuth?window.USER.isRealNameAuth?this.$router.replace({path:"/"}):this.$router.replace({path:"/auth"}):this.$router.replace({path:"/deposit"})}.bind(this)).catch(function(t){})}},computed:{loginDisabled:function(){return!this.phone||!this.captcha}},created:function(){}}},838:function(t,e,a){e=t.exports=a(756)(),e.push([t.i,"#button-captcha{width:100px}","",{version:3,sources:["/Users/weizhiyun019/Desktop/bike_wechat/src/components/Login.vue"],names:[],mappings:"AACA,gBACI,WAAa,CAChB",file:"Login.vue",sourcesContent:["\n#button-captcha {\n    width: 100px;\n}\n"],sourceRoot:""}])},908:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yb-content-main",[a("yb-header",{attrs:{"left-options":{backText:"",preventGoBack:!1}},slot:"header"},[t._v("\n        登录\n    ")]),t._v(" "),a("div",{slot:"main"},[a("group",{staticClass:"weui-cells_form",attrs:{title:""}},[a("x-input",{staticClass:"weui-vcode",attrs:{keyboard:"number","is-type":"china-mobile",title:"手机号",placeholder:"请输入手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),a("x-input",{staticClass:"weui-vcode",attrs:{type:"text",title:"验证码",placeholder:"请输入验证码"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[a("x-button",{attrs:{id:"button-captcha",type:"default",text:t.buttonText,disabled:t.captchaDisabled,mini:""},nativeOn:{click:function(e){t.requestCaptcha()}},slot:"right"})],1)],1),t._v(" "),a("div",{staticStyle:{padding:"15px"}},[a("x-button",{attrs:{type:"primary",disabled:t.loginDisabled},nativeOn:{click:function(e){t.checkCaptcha()}}},[t._v("登录")]),t._v(" "),a("div",{staticStyle:{padding:"8px","text-align":"center",color:"#666666"}},[a("span",[t._v("点击开始，即表示已阅读并同意")]),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("《用车服务条款》")])])],1)],1)],1)},staticRenderFns:[]}},940:function(t,e,a){var n=a(838);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(757)("12a7cd6d",n,!0)}});
//# sourceMappingURL=17.f90d3f7c732580ac8ac7.js.map